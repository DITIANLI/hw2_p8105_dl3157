---
title: "hw2"
author: "Ditian Li"
date: "2018/10/1"
output: html_document
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(knitr)
library(dplyr)
```

#Problem 1

```{r11}
nyc_trans = read_csv("./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv")%>%
  janitor::clean_names()%>%
  gather(key = route, value=route_name,route1:route11)%>%
  separate(route, into = c("x", "route_number"), sep = 5) %>%
  filter(!is.na(route_name))%>%
  select(line, station_name, station_latitude, station_longitude, route_number,route_name, entry, vending, entrance_type, ada)%>%
  mutate(entry=ifelse(entry=='YES',yes=TRUE,no=FALSE))%>%
  arrange(line,station_name)
  
nyc_trans

```

This dataset contains line, station name, station latitude, station longtitude, entry, vending, entry type, ada, route_name and route_number. We first cleaned variable names, then we used mutate to convert variable type and used gather for route variables. Then dimension is `r nrow(nyc_trans)` by `r ncol(nyc_nyctrans)`. The data is not tidy enough, because we have too many columns to show in one row.

```{r12}
station_unique=nrow(distinct(nyc_trans,line,station_name,.keep_all = TRUE))
ada_c=nyc_trans %>%
  distinct(station_name,line)
  nrow(ada_c)
  
  
```

##Problem 2
```{r21}
p2_trash = read_excel(path = './data/HealthyHarborWaterWheelTotals2017-9-26.xlsx',sheet = 'Mr. Trash Wheel',range = cell_cols("A:N"))%>%
janitor::clean_names()%>%
filter(!is.na(date))%>%
mutate(sports_balls=as.integer(signif(sports_balls)))
```